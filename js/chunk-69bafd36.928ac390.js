(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69bafd36"],{"00b4":function(e,t,a){"use strict";a("ac1f");var c=a("23e7"),n=a("da84"),r=a("c65b"),l=a("e330"),o=a("1626"),s=a("861d"),i=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=n.Error,d=l(/./.test);c({target:"RegExp",proto:!0,forced:!i},{test:function(e){var t=this.exec;if(!o(t))return d(this,e);var a=r(t,this,e);if(null!==a&&!s(a))throw new u("RegExp exec method returned something other than an Object or null");return!!a}})},"107c":function(e,t,a){var c=a("d039"),n=a("da84"),r=n.RegExp;e.exports=c((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"1dde":function(e,t,a){var c=a("d039"),n=a("b622"),r=a("2d00"),l=n("species");e.exports=function(e){return r>=51||!c((function(){var t=[],a=t.constructor={};return a[l]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},8418:function(e,t,a){"use strict";var c=a("a04b"),n=a("9bf2"),r=a("5c6c");e.exports=function(e,t,a){var l=c(t);l in e?n.f(e,l,r(0,a)):e[l]=a}},9263:function(e,t,a){"use strict";var c=a("c65b"),n=a("e330"),r=a("577e"),l=a("ad6d"),o=a("9f7f"),s=a("5692"),i=a("7c73"),u=a("69f3").get,d=a("fce3"),b=a("107c"),f=s("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,m=h,p=n("".charAt),j=n("".indexOf),O=n("".replace),v=n("".slice),g=function(){var e=/a/,t=/b*/g;return c(h,e,"a"),c(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),x=o.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],E=g||y||x||d||b;E&&(m=function(e){var t,a,n,o,s,d,b,E=this,k=u(E),I=r(e),w=k.raw;if(w)return w.lastIndex=E.lastIndex,t=c(m,w,I),E.lastIndex=w.lastIndex,t;var C=k.groups,V=x&&E.sticky,R=c(l,E),S=E.source,_=0,q=I;if(V&&(R=O(R,"y",""),-1===j(R,"g")&&(R+="g"),q=v(I,E.lastIndex),E.lastIndex>0&&(!E.multiline||E.multiline&&"\n"!==p(I,E.lastIndex-1))&&(S="(?: "+S+")",q=" "+q,_++),a=new RegExp("^(?:"+S+")",R)),y&&(a=new RegExp("^"+S+"$(?!\\s)",R)),g&&(n=E.lastIndex),o=c(h,V?a:E,q),V?o?(o.input=v(o.input,_),o[0]=v(o[0],_),o.index=E.lastIndex,E.lastIndex+=o[0].length):E.lastIndex=0:g&&o&&(E.lastIndex=E.global?o.index+o[0].length:n),y&&o&&o.length>1&&c(f,o[0],a,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o&&C)for(o.groups=d=i(null),s=0;s<C.length;s++)b=C[s],d[b[0]]=o[b[1]];return o}),e.exports=m},"99af":function(e,t,a){"use strict";var c=a("23e7"),n=a("da84"),r=a("d039"),l=a("e8b5"),o=a("861d"),s=a("7b0b"),i=a("07fa"),u=a("8418"),d=a("65f0"),b=a("1dde"),f=a("b622"),h=a("2d00"),m=f("isConcatSpreadable"),p=9007199254740991,j="Maximum allowed index exceeded",O=n.TypeError,v=h>=51||!r((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),g=b("concat"),x=function(e){if(!o(e))return!1;var t=e[m];return void 0!==t?!!t:l(e)},y=!v||!g;c({target:"Array",proto:!0,forced:y},{concat:function(e){var t,a,c,n,r,l=s(this),o=d(l,0),b=0;for(t=-1,c=arguments.length;t<c;t++)if(r=-1===t?l:arguments[t],x(r)){if(n=i(r),b+n>p)throw O(j);for(a=0;a<n;a++,b++)a in r&&u(o,b,r[a])}else{if(b>=p)throw O(j);u(o,b++,r)}return o.length=b,o}})},"9f7f":function(e,t,a){var c=a("d039"),n=a("da84"),r=n.RegExp,l=c((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),o=l||c((function(){return!r("a","y").sticky})),s=l||c((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:l}},ac1f:function(e,t,a){"use strict";var c=a("23e7"),n=a("9263");c({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(e,t,a){"use strict";var c=a("825a");e.exports=function(){var e=c(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b0c0:function(e,t,a){var c=a("83ab"),n=a("5e77").EXISTS,r=a("e330"),l=a("9bf2").f,o=Function.prototype,s=r(o.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=r(i.exec),d="name";c&&!n&&l(o,d,{configurable:!0,get:function(){try{return u(i,s(this))[1]}catch(e){return""}}})},b789:function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),n=Object(c["h"])("h5",{class:"m-5"},"這是購物車頁面",-1),r={class:"container"},l={class:"row justify-content-center"},o={class:"col-md-6"},s={class:"table align-middle"},i=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th"),Object(c["h"])("th",null,"品名"),Object(c["h"])("th",{style:{width:"110px"}},"數量"),Object(c["h"])("th",null,"單價")])],-1),u=["onClick"],d=Object(c["h"])("i",{class:"fas fa-spinner fa-pulse"},null,-1),b=Object(c["i"])(" 移除購物車 "),f=[d,b],h={key:0,class:"text-success"},m={class:"input-group input-group-sm"},p=["onUpdate:modelValue","onChange"],j={class:"text-end"},O={key:0,class:"text-success"},v=Object(c["h"])("td",{colspan:"3",class:"text-end"},"總計",-1),g={class:"text-end"},x={key:0},y=Object(c["h"])("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1),E={class:"text-end text-success"},k={class:"my-5 row justify-content-center"},I={class:"mb-3"},w=Object(c["h"])("label",{for:"email",class:"form-label"},"Email",-1),C={class:"mb-3"},V=Object(c["h"])("label",{for:"name",class:"form-label"},"收件人姓名",-1),R={class:"mb-3"},S=Object(c["h"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),_={class:"mb-3"},q=Object(c["h"])("label",{for:"address",class:"form-label"},"收件人地址",-1),U={class:"mb-3"},T=Object(c["h"])("label",{for:"message",class:"form-label"},"留言",-1),$=Object(c["h"])("div",{class:"text-end"},[Object(c["h"])("button",{type:"submit",class:"btn btn-primary"},"送出訂單")],-1);function A(e,t,a,d,b,A){var J=Object(c["G"])("Field"),N=Object(c["G"])("ErrorMessage"),F=Object(c["G"])("Form");return Object(c["y"])(),Object(c["g"])("div",null,[n,Object(c["h"])("div",r,[Object(c["h"])("div",l,[Object(c["h"])("div",o,[Object(c["h"])("table",s,[i,Object(c["h"])("tbody",null,[b.cart.carts?(Object(c["y"])(!0),Object(c["g"])(c["a"],{key:0},Object(c["E"])(b.cart.carts,(function(e){return Object(c["y"])(),Object(c["g"])("tr",{key:e.id},[Object(c["h"])("td",null,[Object(c["h"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(t){return A.removeCart(e.id)}},f,8,u)]),Object(c["h"])("td",null,[Object(c["i"])(Object(c["J"])(e.product.title)+" ",1),e.coupon?(Object(c["y"])(),Object(c["g"])("div",h," 已套用優惠券 ")):Object(c["f"])("",!0)]),Object(c["h"])("td",null,[Object(c["h"])("div",m,[Object(c["T"])(Object(c["h"])("input",{type:"number",min:"1",class:"form-control","onUpdate:modelValue":function(t){return e.qty=t},onChange:function(t){return A.editQty(e)}},null,40,p),[[c["N"],e.qty]])])]),Object(c["h"])("td",j,[b.cart.final_total!==b.cart.total?(Object(c["y"])(),Object(c["g"])("small",O,"折扣價：")):Object(c["f"])("",!0),Object(c["i"])(" "+Object(c["J"])(e.final_total),1)])])})),128)):Object(c["f"])("",!0)]),Object(c["h"])("tfoot",null,[Object(c["h"])("tr",null,[v,Object(c["h"])("td",g,Object(c["J"])(b.cart.total),1)]),b.cart.final_total!==b.cart.total?(Object(c["y"])(),Object(c["g"])("tr",x,[y,Object(c["h"])("td",E,Object(c["J"])(b.cart.final_total),1)])):Object(c["f"])("",!0)])])])]),Object(c["h"])("div",k,[Object(c["j"])(F,{ref:"form",class:"col-md-6",onSubmit:A.postOrder},{default:Object(c["S"])((function(e){var a=e.errors;return[Object(c["h"])("div",I,[w,Object(c["j"])(J,{id:"email",name:"email",type:"email",class:Object(c["r"])(["form-control",{"is-invalid":a["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:b.form.user.email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return b.form.user.email=e})},null,8,["class","modelValue"]),Object(c["j"])(N,{name:"email",class:"invalid-feedback"})]),Object(c["h"])("div",C,[V,Object(c["j"])(J,{id:"name",name:"姓名",type:"text",class:Object(c["r"])(["form-control",{"is-invalid":a["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:b.form.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b.form.user.name=e})},null,8,["class","modelValue"]),Object(c["j"])(N,{name:"姓名",class:"invalid-feedback"})]),Object(c["h"])("div",R,[S,Object(c["j"])(J,{id:"tel",name:"電話",type:"text",class:Object(c["r"])(["form-control",{"is-invalid":a["電話"]}]),placeholder:"請輸入電話",rules:A.checkPhone,modelValue:b.form.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return b.form.user.tel=e})},null,8,["class","rules","modelValue"]),Object(c["j"])(N,{name:"電話",class:"invalid-feedback"})]),Object(c["h"])("div",_,[q,Object(c["j"])(J,{id:"address",name:"地址",type:"text",class:Object(c["r"])(["form-control",{"is-invalid":a["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:b.form.user.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return b.form.user.address=e})},null,8,["class","modelValue"]),Object(c["j"])(N,{name:"地址",class:"invalid-feedback"})]),Object(c["h"])("div",U,[T,Object(c["T"])(Object(c["h"])("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[4]||(t[4]=function(e){return b.form.message=e})},null,512),[[c["N"],b.form.message]])]),$]})),_:1},8,["onSubmit"])])])])}a("99af"),a("ac1f"),a("00b4");var J={data:function(){return{cart:{},form:{user:{name:"",email:"",tel:"",address:""},message:""},coupon:""}},methods:{getCart:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("travel590","/cart");this.$http.get(t).then((function(t){e.cart=t.data.data}))},removeCart:function(e){var t=this,a="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("travel590","/cart/").concat(e);this.$http.delete(a).then((function(e){alert(e.data.message),t.getCart()})).catch((function(e){alert(e.data.message)}))},editQty:function(e){var t=this;if(e.qty<1)return e.qty=1,void alert("商品數量不能小於 1");var a={data:{product_id:e.id,qty:e.qty}},c="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("travel590","/cart/").concat(e.id);this.$http.put(c,a).then((function(e){console.log(e),alert(e.data.message),t.getCart()})).catch((function(e){alert(e.response.data.message)}))},checkPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"請確認電話號碼為 09 開頭"},postOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("travel590","/order");this.$http.post(t,{data:this.form}).then((function(t){alert(t.data.message),e.$refs.form.resetForm(),e.formData.message=""})).catch((function(e){alert(e.response.data.message)}))}},mounted:function(){this.getCart()}},N=a("6b0d"),F=a.n(N);const P=F()(J,[["render",A]]);t["default"]=P},fce3:function(e,t,a){var c=a("d039"),n=a("da84"),r=n.RegExp;e.exports=c((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-69bafd36.928ac390.js.map