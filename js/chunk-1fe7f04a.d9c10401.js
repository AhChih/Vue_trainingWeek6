(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fe7f04a"],{1799:function(e,t,c){"use strict";var a=c("7a23"),n={"aria-label":"Page navigation example"},l={class:"pagination"},r=Object(a["h"])("span",{"aria-hidden":"true"},"«",-1),o=[r],b={key:0,class:"page-link"},s=["onClick"],d=Object(a["h"])("span",{"aria-hidden":"true"},"»",-1),i=[d];function O(e,t,c,r,d,O){return Object(a["y"])(),Object(a["g"])("nav",n,[Object(a["h"])("ul",l,[Object(a["h"])("li",{class:Object(a["r"])(["page-item",{disabled:1===c.pages.current_page}])},[Object(a["h"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[0]||(t[0]=Object(a["U"])((function(e){return O.emitPages(c.pages.current_page-1)}),["prevent"]))},o)],2),(Object(a["y"])(!0),Object(a["g"])(a["a"],null,Object(a["E"])(c.pages.total_pages,(function(e,t){return Object(a["y"])(),Object(a["g"])("li",{key:t,class:Object(a["r"])(["page-item",{active:e===c.pages.current_page}])},[e===c.pages.current_page?(Object(a["y"])(),Object(a["g"])("span",b,Object(a["J"])(e),1)):(Object(a["y"])(),Object(a["g"])("a",{key:1,class:"page-link",href:"#",onClick:Object(a["U"])((function(t){return O.emitPages(e)}),["prevent"])},Object(a["J"])(e),9,s))],2)})),128)),Object(a["h"])("li",{class:Object(a["r"])(["page-item",{disabled:c.pages.current_page===c.pages.total_pages}])},[Object(a["h"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[1]||(t[1]=Object(a["U"])((function(e){return O.emitPages(c.pages.current_page+1)}),["prevent"]))},i)],2)])])}var u={props:["pages"],methods:{emitPages:function(e){this.$emit("emit-pages",e)}}},j=c("6b0d"),h=c.n(j);const p=h()(u,[["render",O]]);t["a"]=p},b06d:function(e,t,c){"use strict";c.r(t);c("b0c0");var a=c("7a23"),n={class:"container"},l={class:"row"},r={class:"table table-hover"},o=Object(a["h"])("thead",null,[Object(a["h"])("tr",null,[Object(a["h"])("th",{scope:"col"},"#"),Object(a["h"])("th",{scope:"col"},"顧客名稱"),Object(a["h"])("th",{scope:"col"},"顧客信箱"),Object(a["h"])("th",{scope:"col"},"顧客電話"),Object(a["h"])("th",{scope:"col"},"顧客地址"),Object(a["h"])("th",{scope:"col"},"狀態"),Object(a["h"])("th",{scope:"col"},"訂單日期"),Object(a["h"])("th",{scope:"col"})])],-1),b={scope:"row"},s=["onClick"],d=["onClick"];function i(e,t,c,i,O,u){var j=Object(a["G"])("Pagination"),h=Object(a["G"])("OrderModal");return Object(a["y"])(),Object(a["g"])("div",n,[Object(a["h"])("div",l,[Object(a["h"])("table",r,[o,Object(a["h"])("tbody",null,[(Object(a["y"])(!0),Object(a["g"])(a["a"],null,Object(a["E"])(O.orders,(function(e,t){return Object(a["y"])(),Object(a["g"])("tr",{key:e.id},[Object(a["h"])("th",b,Object(a["J"])(t+1),1),Object(a["h"])("td",null,Object(a["J"])(e.user.name),1),Object(a["h"])("td",null,Object(a["J"])(e.user.email),1),Object(a["h"])("td",null,Object(a["J"])(e.user.tel),1),Object(a["h"])("td",null,Object(a["J"])(e.user.address),1),Object(a["h"])("td",null,Object(a["J"])(e.is_paid?"已付款":"未付款"),1),Object(a["h"])("td",null,Object(a["J"])(u.showDate(1e3*e.create_at)),1),Object(a["h"])("td",null,[Object(a["h"])("button",{class:"btn btn-primary",onClick:function(t){return u.openModal(e)}}," 詳細資訊 ",8,s),Object(a["h"])("button",{class:"btn btn-danger",onClick:function(t){return u.deleteOrder(e.id)}}," 刪除 ",8,d)])])})),128))])])]),Object(a["j"])(j,{pages:O.pagination,onEmitPages:u.getOrders},null,8,["pages","onEmitPages"]),Object(a["j"])(h,{ref:"orderModal",order:O.tempOrder},null,8,["order"])])}c("99af");var O=c("1799"),u={ref:"modal",class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},j={class:"modal-dialog"},h={class:"modal-content"},p=Object(a["h"])("div",{class:"modal-header"},[Object(a["h"])("h5",{class:"modal-title",id:"exampleModalLabel"},"訂單詳細資訊"),Object(a["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),g={class:"modal-body"},f=Object(a["h"])("h3",null,"顧客資料",-1),m={key:0,class:"table table-sm"},v=Object(a["h"])("td",null,"姓名",-1),y=Object(a["h"])("td",null,"地址",-1),k=Object(a["h"])("td",null,"信箱",-1),J=Object(a["h"])("td",null,"電話",-1),w=Object(a["h"])("h3",null,"訂單資料",-1),M={key:1,class:"table table-sm"},_=Object(a["h"])("td",null,"訂單日期",-1),x={colspan:"2"},P={colspan:"2"},C=Object(a["h"])("td",null,"訂單狀態",-1),D={colspan:"2"},$=Object(a["h"])("tr",null,[Object(a["h"])("td",{colspan:"3",class:"fw-bold"},"商品")],-1),E={colspan:"3",class:"text-end"};function S(e,t,c,n,l,r){return Object(a["y"])(),Object(a["g"])("div",u,[Object(a["h"])("div",j,[Object(a["h"])("div",h,[p,Object(a["h"])("div",g,[f,c.order.id?(Object(a["y"])(),Object(a["g"])("table",m,[Object(a["h"])("tbody",null,[Object(a["h"])("tr",null,[v,Object(a["h"])("td",null,Object(a["J"])(c.order.user.name),1)]),Object(a["h"])("tr",null,[y,Object(a["h"])("td",null,Object(a["J"])(c.order.user.address),1)]),Object(a["h"])("tr",null,[k,Object(a["h"])("td",null,Object(a["J"])(c.order.user.email),1)]),Object(a["h"])("tr",null,[J,Object(a["h"])("td",null,Object(a["J"])(c.order.user.tel),1)])])])):Object(a["f"])("",!0),w,c.order.id?(Object(a["y"])(),Object(a["g"])("table",M,[Object(a["h"])("tbody",null,[Object(a["h"])("tr",null,[_,Object(a["h"])("td",x,Object(a["J"])(r.showDate(c.order.create_at)),1)]),Object(a["h"])("tr",P,[C,Object(a["h"])("td",D,Object(a["J"])(c.order.is_paid?"已付款":"未付款"),1)]),$,(Object(a["y"])(!0),Object(a["g"])(a["a"],null,Object(a["E"])(c.order.products,(function(e,t){return Object(a["y"])(),Object(a["g"])("tr",{key:t},[Object(a["h"])("td",null,Object(a["J"])(e.product.title),1),Object(a["h"])("td",null,"*"+Object(a["J"])(e.qty),1),Object(a["h"])("td",null,"$"+Object(a["J"])(e.final_total),1)])})),128))]),Object(a["h"])("tfoot",null,[Object(a["h"])("tr",null,[Object(a["h"])("td",E,"總金額：$"+Object(a["J"])(c.order.total),1)])])])):Object(a["f"])("",!0)])])])],512)}var F=c("7c2b"),U=c.n(F),G={props:["order"],data:function(){return{}},mounted:function(){this.modal=new U.a(this.$refs.modal,{keyboard:!1})},methods:{openModal:function(){this.modal.show()},closeModal:function(){this.modal.hide()},showDate:function(e){var t=new Date(e),c=t.getFullYear(),a=t.getMonth()+1,n=t.getDate();return"".concat(c,"/").concat(a,"/").concat(n)}}},L=c("6b0d"),Y=c.n(L);const q=Y()(G,[["render",S]]);var I=q,N={data:function(){return{orders:{},pagination:{},tempOrder:{}}},methods:{getOrders:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("travel590","/admin/orders?page=").concat(t);this.$http.get(c).then((function(t){e.orders=t.data.orders,e.pagination=t.data.pagination})).catch((function(e){alert(e)}))},showDate:function(e){var t=new Date(e),c=t.getFullYear(),a=t.getMonth()+1,n=t.getDate();return"".concat(c,"/").concat(a,"/").concat(n)},deleteOrder:function(e){var t=this,c="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("travel590","/admin/order/").concat(e);this.$http.delete(c).then((function(e){alert(e.data.message),t.getOrders()})).catch((function(){alert("移除失敗")}))},openModal:function(e){this.tempOrder=e,this.$refs.orderModal.openModal()}},mounted:function(){this.getOrders()},components:{Pagination:O["a"],OrderModal:I}};const T=Y()(N,[["render",i]]);t["default"]=T},b0c0:function(e,t,c){var a=c("83ab"),n=c("5e77").EXISTS,l=c("e330"),r=c("9bf2").f,o=Function.prototype,b=l(o.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=l(s.exec),i="name";a&&!n&&r(o,i,{configurable:!0,get:function(){try{return d(s,b(this))[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-1fe7f04a.d9c10401.js.map